
> kapi-s-rpg@0.1.0 test
> jest tests/integration/context/context-loader.test.js

  console.log
    
    ‚úì ContextLoader Integration Tests Complete

      at Object.log (tests/integration/context/context-loader.test.js:530:11)

  console.log
      - 8 test suites

      at Object.log (tests/integration/context/context-loader.test.js:531:11)

  console.log
      - 30+ tests executed

      at Object.log (tests/integration/context/context-loader.test.js:532:11)

  console.log
      - Coverage: P1 loading, P2 filtering, token budget, performance, error handling

      at Object.log (tests/integration/context/context-loader.test.js:533:11)

FAIL tests/integration/context/context-loader.test.js (7.371 s)
  ContextLoader Integration Tests
    Suite 1: P1 Context Loading
      √ó should load P1 context for Village of Barovia (17 ms)
      √ó should estimate P1 token count around 1300 tokens (3 ms)
      √ó should include context markdown in P1 (2 ms)
    Suite 2: P2 NPC Filtering
      √ó should filter NPCs by proximity (current + adjacent only) (3 ms)
      √ó should assign relevance scores to NPCs (3 ms)
      √ó should sort NPCs by relevance (current location first) (1 ms)
    Suite 3: P2 Event Filtering
      √ó should filter events within next 7 days (1 ms)
      √ó should calculate days until event (1 ms)
      √ó should sort events by proximity (soonest first) (2 ms)
    Suite 4: Token Budget Management
      √ó should enforce 3500 soft limit (default) (1 ms)
      √ó should enforce 4000 hard limit (max) (1 ms)
      √ó should reject budget exceeding hard limit
      √ó should load P1+P2 with 3500 budget (1 ms)
      √ó should include metadata with token count (1 ms)
    Suite 5: Token Estimation Accuracy
      √ó should estimate tokens for simple strings (1 ms)
      √ó should estimate tokens for 400-char paragraph (1 ms)
      √ó should handle markdown formatting overhead (1 ms)
      √ó should return 0 for empty string (1 ms)
    Suite 6: Epic Integration
      √ó should integrate with Epic 1 LocationLoader (1 ms)
      √ó should integrate with Epic 2 CalendarManager (1 ms)
      √ó should parse character YAML correctly (1 ms)
      √ó should return Result Object pattern (1 ms)
    Suite 7: Performance
      √ó should load context in <5 seconds for Village of Barovia (1 ms)
      √ó should measure context load time (1 ms)
    Suite 8: Error Handling
      √ó should handle invalid location ID (1 ms)
      √ó should handle missing character file (1 ms)
      √ó should handle missing LocationLoader (1 ms)
      √ó should handle missing CalendarManager (1 ms)
      √ó should return Result Object on all errors

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 1: P1 Context Loading ‚Ä∫ should load P1 context for Village of Barovia

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 1: P1 Context Loading ‚Ä∫ should estimate P1 token count around 1300 tokens

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 1: P1 Context Loading ‚Ä∫ should include context markdown in P1

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 2: P2 NPC Filtering ‚Ä∫ should filter NPCs by proximity (current + adjacent only)

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 2: P2 NPC Filtering ‚Ä∫ should assign relevance scores to NPCs

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 2: P2 NPC Filtering ‚Ä∫ should sort NPCs by relevance (current location first)

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 3: P2 Event Filtering ‚Ä∫ should filter events within next 7 days

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 3: P2 Event Filtering ‚Ä∫ should calculate days until event

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 3: P2 Event Filtering ‚Ä∫ should sort events by proximity (soonest first)

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 4: Token Budget Management ‚Ä∫ should enforce 3500 soft limit (default)

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 4: Token Budget Management ‚Ä∫ should enforce 4000 hard limit (max)

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 4: Token Budget Management ‚Ä∫ should reject budget exceeding hard limit

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 4: Token Budget Management ‚Ä∫ should load P1+P2 with 3500 budget

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 4: Token Budget Management ‚Ä∫ should include metadata with token count

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 5: Token Estimation Accuracy ‚Ä∫ should estimate tokens for simple strings

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 5: Token Estimation Accuracy ‚Ä∫ should estimate tokens for 400-char paragraph

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 5: Token Estimation Accuracy ‚Ä∫ should handle markdown formatting overhead

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 5: Token Estimation Accuracy ‚Ä∫ should return 0 for empty string

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 6: Epic Integration ‚Ä∫ should integrate with Epic 1 LocationLoader

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 6: Epic Integration ‚Ä∫ should integrate with Epic 2 CalendarManager

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 6: Epic Integration ‚Ä∫ should parse character YAML correctly

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 6: Epic Integration ‚Ä∫ should return Result Object pattern

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 7: Performance ‚Ä∫ should load context in <5 seconds for Village of Barovia

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 7: Performance ‚Ä∫ should measure context load time

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 8: Error Handling ‚Ä∫ should handle invalid location ID

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 8: Error Handling ‚Ä∫ should handle missing character file

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 8: Error Handling ‚Ä∫ should handle missing LocationLoader

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 8: Error Handling ‚Ä∫ should handle missing CalendarManager

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

  ‚óè ContextLoader Integration Tests ‚Ä∫ Suite 8: Error Handling ‚Ä∫ should return Result Object on all errors

    TypeError: LocationLoader is not a constructor

    [0m [90m 30 |[39m   beforeEach(() [33m=>[39m {
     [90m 31 |[39m     [90m// Initialize real dependencies for integration testing[39m
    [31m[1m>[22m[39m[90m 32 |[39m     locationLoader [33m=[39m [36mnew[39m [33mLocationLoader[39m()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 33 |[39m     calendarManager [33m=[39m [36mnew[39m [33mCalendarManager[39m()[33m;[39m
     [90m 34 |[39m     priorityResolver [33m=[39m [36mnew[39m [33mPriorityResolver[39m()[33m;[39m
     [90m 35 |[39m[0m

      at Object.<anonymous> (tests/integration/context/context-loader.test.js:32:22)

Test Suites: 1 failed, 1 total
Tests:       29 failed, 29 total
Snapshots:   0 total
Time:        7.659 s
Ran all test suites matching /tests\\integration\\context\\context-loader.test.js/i.
